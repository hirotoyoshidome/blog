<!DOCTYPE html><html lang="ja"> <head><!-- Google Tag Manager --><!-- End Google Tag Manager --><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>新規プロダクトでのCIの重要性</title><meta name="description" content="新規プロダクトでのCIの重要性に関するメモ。"><!-- OGP --><meta property="og:title" content="新規プロダクトでのCIの重要性"><meta name="og:description" content="新規プロダクトでのCIの重要性に関するメモ。"><meta property="og:type" content="website"><!-- Twitter --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="新規プロダクトでのCIの重要性"><meta name="twitter:description" content="新規プロダクトでのCIの重要性に関するメモ。"><link rel="icon" type="image/png" href="/images/favicon.ico"><link rel="stylesheet" href="/_astro/_page_.C60xkf-5.css"><script type="module" src="/_astro/hoisted.DBccM9AK.js"></script></head> <body class="prose prose-neutral mx-auto p-6"> <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TLLX6XR3" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> <!-- End Google Tag Manager (noscript) -->  <main class="max-w-3xl mx-auto px-6 py-10 text-gray-800 leading-relaxed"> <nav aria-label="Breadcrumb" class="text-sm text-gray-500 mb-6"> <ol class="flex flex-wrap items-center gap-2 list-none"> <li><a href="/" class="text-blue-600 hover:underline">ホーム</a></li> <li aria-hidden="true" class="text-gray-400">/</li> <li><a href="/ja/" class="text-blue-600 hover:underline">記事一覧</a></li> <li aria-hidden="true" class="text-gray-400">/</li> <li class="font-semibold text-gray-700 truncate max-w-[60ch]">新規プロダクトでのCIの重要性</li> </ol> </nav> <header class="mb-8"> <h1 class="text-4xl font-bold tracking-tight mb-2">新規プロダクトでのCIの重要性</h1> <div class="flex flex-wrap items-center gap-3 text-sm text-gray-600"> <time datetime="2023-07-15T00:00:00.000Z"> 2023-07-15 </time> </div> <ul class="flex flex-wrap gap-2 mt-4 list-none"> <li class="text-xs bg-blue-50 text-blue-700 px-2 py-0.5 rounded-full font-medium">
#CI/CD </li><li class="text-xs bg-blue-50 text-blue-700 px-2 py-0.5 rounded-full font-medium">
#Testing </li><li class="text-xs bg-blue-50 text-blue-700 px-2 py-0.5 rounded-full font-medium">
#GitHub Actions </li><li class="text-xs bg-blue-50 text-blue-700 px-2 py-0.5 rounded-full font-medium">
#Best Practices </li> </ul> <nav class="text-sm text-gray-600 flex flex-wrap gap-3 mt-4"> <a href="/en/posts/2023/think-ci-for-new-product/" class="text-blue-600 hover:underline flex items-center gap-1"> <span aria-hidden="true">⇄</span> English </a> </nav> </header> <ul>
<li>2023/07/15</li>
</ul>
<h1 id="新規プロダクトでのciの重要性">新規プロダクトでのCIの重要性</h1>
<h3 id="はじめに">はじめに</h3>
<p>こんにちは。</p>
<p>今回は新規で開発が始まるというタイミングでどこでCIを構築するべきなのかということについて考えてみたいと思います。</p>
<p>多くのプロジェクトではCI環境が既に整備されていると思います。</p>
<p>CIによって自動でテストが回ったり、コードの静的チェックが自動で行われたりすることでプロダクトの品質を保つことができます。</p>
<p>一方で、新規でプロダクトを作るとなった場合、もちろんテストコードもソース自体もありませんからチェックするものがありません。</p>
<p>なので、新規プロジェクトの場合、どのタイミングでCIを構築するべきか悩むことがあると思います。</p>
<p>今回は、そのことについて考えてみたいと思います。</p>
<h3 id="一番最初にciを構築するパターン">一番最初にCIを構築するパターン</h3>
<p>個人的にはこれをオススメしたいです。</p>
<p>新規プロジェクトで仕様も固まり、技術選定も終わり、よしコード書いていくぞってなったときにプロダクトコードを書く前にCI環境を構築するということです。</p>
<p>僕自身、仕事の新規プロジェクトで0からシステムを作ったことがあるのですが、その一つで一番最初にCIを構築したケースがあります。</p>
<p>最初に構築しておくことで良い点は、最初のタイミングから単体テストを書く意識が生まれることだと思います。</p>
<p>コーディングの初期では、単体テストを書くことを後回しにしがちです。</p>
<p>単体テストを後でまとめて書くと実装の時に単体テストでカバーしておきたかった部分などを忘れてしまって、カバレッジを上げるためのテストケースになりがちだと思います。</p>
<p>一方で、最初からCI環境を準備しておき、単体テストも都度書かないといけない状態を作ることで、品質を上げることができると思います。</p>
<p>また、個人レベルで開発をするケースについても、例えばGitHub Actionsなどを使うことで簡単にCI環境を作成することができます。</p>
<p>個人レベルでも同様に、最初のタイミングでテストが自動で回る環境を作っておくことが良いと思います。</p>
<h3 id="cd環境を作成するタイミングでciも構築するパターン">CD環境を作成するタイミングでCIも構築するパターン</h3>
<p>例えばWebサービスでは、ある程度動くようになったタイミングでサーバーにデプロイすることになると思います。</p>
<p>そのとき、デプロイに関してはCD環境を作ることがほとんどなのではないかと思います。</p>
<p>このタイミングで同時にCI環境も構築するというパターンも良いと思います。</p>
<p>CIもCDもですが、使うサービスによっては有料になることがあります。</p>
<p>例えば、GitHub Actionsもプライベートリポジトリでは一定時間を超えると有料になりますし、AWSのCode DeployやCode Buildなども利用時間で課金がされます。</p>
<p>そのため、最初の開発タイミングでCI環境を作成するとコストがかかってしまいます。</p>
<p>できるだけコストをかけたくない場合に関しては、実際にインフラ環境を構築し、テストフェーズに移るタイミングでCIとCDにを構築するというのもアリではないかと思います。</p>
<p>しかし、このパターンでも、単体テストに関しては都度書いておくことは大切だと思います。</p>
<p>強制力がなく、チーム内でのルールということにはなりますが、プルリクエスト単位でしっかりと単体テストを書くことは大切だと強調しておきます。</p>
<h3 id="最後に">最後に</h3>
<p>今回は、新規プロジェクトの場合にどのタイミングでCI環境を構築するかということについて考えてみました。</p>
<p>CI環境はとても大切だと思っています。</p>
<p>また、現在ではGitHub Actionsのような手軽にCI環境を作れるものも出てきているため、敷居はとても下がっていると思います。</p>
<p>そのため、仕事以外でも個人開発でもCIを導入することで「テスト」を意識に植え付けることができると思います。</p>
<p>新規プロジェクト時の参考になれば幸いです。</p> <section class="mt-10 border-t pt-6 space-y-8"> <div class="flex flex-wrap gap-3 items-center"> <span class="text-sm text-gray-600">Share:</span> <a class="text-sm px-3 py-1.5 rounded border hover:bg-gray-50" href="https://twitter.com/intent/tweet?text=%E6%96%B0%E8%A6%8F%E3%83%97%E3%83%AD%E3%83%80%E3%82%AF%E3%83%88%E3%81%A7%E3%81%AECI%E3%81%AE%E9%87%8D%E8%A6%81%E6%80%A7&url=https%3A%2F%2Fhirotoyoshidome.com%2Fja%2Fposts%2F2023%2Fthink_ci_for_new_product%2F" rel="noopener">
X (Twitter)
</a> </div> </section> </main>  </body></html>